# 定时任务

* 参考 : https://blog.csdn.net/somezz/article/details/83104368#1__26


### 我的问题

* 设定每天的固定时间运行

* 设定指定周期，可不可以设定每周每月或者更长时间运行一次，我觉得这样的话线程会不稳定会死掉

* 当循环退出，未执行的未来的计划还是能执行的，是如何操作的



### apscheduler

配置调度器
调度器的主循环其实就是反复检查是不是有到时需要执行的任务，分以下几步进行：

询问自己的每一个作业存储器，有没有到期需要执行的任务，如果有，计算这些作业中每个作业需要运行的时间点，如果时间点有多个，做 coalesce 检查。
提交给执行器按时间点运行。
在配置调度器前，我们首先要选取适合我们应用环境场景的调度器，存储器和执行器。下面是各调度器的适用场景：

* BlockingScheduler：适用于调度程序是进程中唯一运行的进程，调用start函数会阻塞当前线程，不能立即返回。
* BackgroundScheduler：适用于调度程序在应用程序的后台运行，调用start后主线程不会阻塞。

* AsyncIOScheduler：适用于使用了asyncio模块的应用程序。
* GeventScheduler：适用于使用gevent模块的应用程序。
* TwistedScheduler：适用于构建Twisted的应用程序。
* QtScheduler：适用于构建Qt的应用程序。

上述调度器可以满足我们绝大多数的应用环境，本文以两种调度器为例说明如何进行调度器配置。
