# ImageUtil


## 思路

#### 给矢量加上市县名（×）
* 找到矢量的几何中心（外接矩形的几何中心即可）
* 找到几何中心对应的行列位置
* 在对应的行列位置写上需要的文字即可

#### dravepage 出图（×）
* shp 转为字典
* 拿到每个对象，生成单独的图层
* 用这个单独的图层进行出图即可

#### 比例尺（×）
* 比例尺的虽然简单但是比较难写，容易出现比例不对应的问题
* 比例尺可以先不加，要加的话可以写写一个很简答的，设置级别，自动根据现实区域的变化为变化长宽

#### 增加框线（×）
* 图像有些周围会有一些用于标识经纬的经纬网，这个应该不是很困难，可以先尝试一下

#### 画矢量线面（×）
* （1）将矢量线面，转为栅格线面，再叠加到图形中去
* （2）使用 Image 中叠加矢量的方法出图（要去掉一切多余的元素，线框之类的，有办法是可以去掉的）

#### 分辨率（×）
* 可以设置全局的分辨率，所有的要素根据这一分辨率进行渲染，就不会出现因为多次 resize 图像变模糊的问题了
* 分辨率现在采用设定每一个要素所在行的宽度来决定，就是要素根据所在行的宽度指定要素的宽度，然后要素内部自动调整

#### 转为 jpg 图片
* 现在不能直接转为 jpg 图片，需要支持转为 jpg 的功能

## 流水
* 初步验证可以实现矢量加上名字，但是位置好像没有 arcpy 里面那么好
* 开始可视化矢量操作
* 基本完成简单的多级别展示的样式，是最简单的一种，
* 修改指北针的小bug
* 增加纵向生成文字图片的功能
* 完善图例，增加指定行列功能
* 完成简单专题图实例，需要继续优化
* 完善 draw 函数，可以支持不同透明度图层相加
* 背景可以设置为透明色
* 使用 Image 中的 draw 函数画图，非常方便快捷
* 实现按比例扩展的算法 extend_by_ratio
* 将示例放在 Example 函数中去，能保存历史的示例的前提下，让代码变得整洁
* 修复 draw 函数的 bug
* draw 函数应该有 bug 需要修正（√）
* 获得合适的字体大小那一块需要想办法进行优化
* 就差生成文字图片的那个重要的函数
* 基本完善需要的函数
* 完善函数，形状达不到理想的效果（圆）可以尝试使用透明度的方式来解决
* 完善画布和形状函数
* 设计需要的函数